\ SIN WAVE GENERATOR
\ by David Sands
DECIMAL
VARIABLE V1
VARIABLE V2
: INT1 4 / V1 +! V1 @ ; 
: INT2 4 / V2 +! V2 @ ; 
: NEGATE 0 SWAP - ; ( NEGATE MAY ALREADY BE DEFINED )
: FUNC INT1 INT2 NEGATE ; ( THE WHOLE FUNCTION )
: DISP ( THIS DISPLAYS THE VALUE BY SPACING ALONG THE SCREEN BY THAT VALUE, SCALED AND PRINT AN ASTERISK )
CR 40 + 0 DO SPACE LOOP 42 EMIT 25 PAUSE ( or equivalent )
;
: INIT 0 V1 ! 0 V2 ! 100 ;
: WAVE
INIT
BEGIN
  FUNC ( GETS ITS VALUE FROM THE STACK, LEAVES ITS ANSWER ON THE STACK )
  DUP DISP ( PRINT THE * )
KEY? UNTIL ( PRESS ANY KEY TO END LOOP )
DROP
CR
;
